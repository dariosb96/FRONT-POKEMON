{"ast":null,"code":"import { GET_POKEMON, GET_TYPES, GET_ID_POKEMON, POST_POKEMON, GET_NAME_POKEMON, FILTER_BY_TYPES, FILTER_IF_CREATED, ORDER_BY_NAME, ORDER_BY_ATTACK } from \"../Redux/actions\";\n\n//estado inicial de la app\nconst initialState = {\n  pokemon: [],\n  allPokemons: [],\n  types: [],\n  detail: []\n};\n\n//reducer que maneja los cambios de estado en la app\nconst rootReducer = (state = initialState, action) => {\n  //el reducer ejecuta un action dependiendo de la peticion\n  switch (action.type) {\n    //actualiza el estado con los datos de todos los pokemons\n    case GET_POKEMON:\n      return {\n        ...state,\n        pokemon: action.payload,\n        allPokemons: action.payload\n      };\n\n    //actualiza el estado con la creacion de un pokemon\n    case POST_POKEMON:\n      return {\n        ...state\n      };\n\n    //actualiza el estado con los tipos de pokemon \n    case GET_TYPES:\n      return {\n        ...state,\n        types: action.payload\n      };\n\n    //actualiza el estado con los pokemons filtrados por tipo\n    case FILTER_BY_TYPES:\n      {\n        const filtered = action.payload === \"all\" ? state.allPokemons : state.allPokemons.filter(el => el.types.some(type => action.payload.includes(type)));\n        return {\n          ...state,\n          pokemon: filtered\n        };\n      }\n    //actualiza el estado con los pokemons que se crearon en la bd\n    case FILTER_IF_CREATED:\n      {\n        const filtrado = action.payload === \"created\" ? state.allPokemons.filter(el => typeof el.id !== 'number') : state.allPokemons.filter(el => typeof el.id === 'number');\n        return {\n          ...state,\n          pokemon: action.payload === \"all\" ? state.allPokemons : filtrado\n        };\n      }\n    //actualiza el estado ordenando los pokemons por nombre ascendente o descendente\n    case ORDER_BY_NAME:\n      {\n        let sortedArr = action.payload === \"ascPokemon\" ? state.pokemon.sort(function (a, b) {\n          if (a.name.toLowerCase() > b.name.toLowerCase()) {\n            return 1;\n          } else if (a.name.toLowerCase() < b.name.toLowerCase()) {\n            return -1;\n          } else {\n            return 0;\n          }\n        }) : state.pokemon.sort(function (a, b) {\n          if (a.name.toLowerCase() > b.name.toLowerCase()) {\n            return -1;\n          } else if (a.name.toLowerCase() < b.name.toLowerCase()) {\n            return 1;\n          } else {\n            return 0;\n          }\n        });\n        return {\n          ...state,\n          pokemon: sortedArr\n        };\n      }\n\n    //actualiza el estado con el pokemon buscado por nombre\n    case GET_NAME_POKEMON:\n      {\n        return {\n          ...state,\n          pokemon: action.payload\n        };\n      }\n\n    // //actualiza el estado con el pokemon buscado por id\n    case GET_ID_POKEMON:\n      {\n        return {\n          ...state,\n          detail: action.payload\n        };\n      }\n\n    //actualiza el estado con ordenando los pokemons por ataque\n    case ORDER_BY_ATTACK:\n      {\n        let sortedArr = action.payload === \"descA\" ? state.pokemon.sort((a, b) => b.attack - a.attack) : state.pokemon.sort((a, b) => a.attack - b.attack);\n        return {\n          ...state,\n          pokemon: sortedArr\n        };\n      }\n    //mantiene el estado en caso de accion no reconocida\n    default:\n      return {\n        ...state\n      };\n  }\n};\nexport default rootReducer;","map":{"version":3,"names":["GET_POKEMON","GET_TYPES","GET_ID_POKEMON","POST_POKEMON","GET_NAME_POKEMON","FILTER_BY_TYPES","FILTER_IF_CREATED","ORDER_BY_NAME","ORDER_BY_ATTACK","initialState","pokemon","allPokemons","types","detail","rootReducer","state","action","type","payload","filtered","filter","el","some","includes","filtrado","id","sortedArr","sort","a","b","name","toLowerCase","attack"],"sources":["/Users/dariososa/Documents/pokemon/PI-Pokemon-main/client/src/Redux/reducer.js"],"sourcesContent":["import { GET_POKEMON, GET_TYPES, GET_ID_POKEMON, POST_POKEMON, GET_NAME_POKEMON, FILTER_BY_TYPES, FILTER_IF_CREATED, ORDER_BY_NAME, ORDER_BY_ATTACK } from \"../Redux/actions\";\n\n//estado inicial de la app\nconst initialState = {\n  pokemon: [],\n  allPokemons: [],\n  types: [],\n  detail: []\n}\n\n//reducer que maneja los cambios de estado en la app\nconst rootReducer = (state = initialState, action) => {\n\n  //el reducer ejecuta un action dependiendo de la peticion\n  switch (action.type) {\n   //actualiza el estado con los datos de todos los pokemons\n case GET_POKEMON:\n      return {\n        ...state,\n        pokemon: action.payload,\n        allPokemons: action.payload\n      };\n\n  //actualiza el estado con la creacion de un pokemon\n case POST_POKEMON:\n      return {\n        ...state,\n      };\n\n  //actualiza el estado con los tipos de pokemon \n case GET_TYPES:\n        return {\n          ...state,\n          types: action.payload\n        };\n  \n   //actualiza el estado con los pokemons filtrados por tipo\n case FILTER_BY_TYPES:{\n      const filtered =\n      action.payload === \"all\"\n        ? state.allPokemons\n        : state.allPokemons.filter((el) =>\n          el.types.some((type) => action.payload.includes(type))\n        );\n        return {\n        ...state,\n         pokemon: filtered,\n         };\n        }  \n    //actualiza el estado con los pokemons que se crearon en la bd\n  case FILTER_IF_CREATED: {\n   \n      const filtrado = action.payload === \"created\" ? state.allPokemons.filter(el => typeof el.id !== 'number') : state.allPokemons.filter(el=> typeof el.id === 'number')\n      return{\n        ...state,\n        pokemon: action.payload === \"all\" ? state.allPokemons : filtrado\n      }\n  }\n  //actualiza el estado ordenando los pokemons por nombre ascendente o descendente\n  case ORDER_BY_NAME: {\n    let sortedArr = action.payload === \"ascPokemon\" ?\n    state.pokemon.sort(function (a, b){\n      if (a.name.toLowerCase() > b.name.toLowerCase()) {\n        return 1;\n      } else if (a.name.toLowerCase() < b.name.toLowerCase()) {\n        return -1;\n      } else {\n        return 0;\n      }\n      }) :\n      state.pokemon.sort(function (a, b){\n        if (a.name.toLowerCase() > b.name.toLowerCase()) {\n          return -1;\n        } else if (a.name.toLowerCase() < b.name.toLowerCase()) {\n          return 1;\n        } else {\n          return 0;\n        }\n    })\n    return {\n      ...state,\n      pokemon: sortedArr\n    }\n  }\n\n  //actualiza el estado con el pokemon buscado por nombre\ncase GET_NAME_POKEMON:{\n    return{\n      ...state,\n      pokemon: action.payload\n    }}\n\n // //actualiza el estado con el pokemon buscado por id\n case GET_ID_POKEMON:{\n      return{\n        ...state,\n        detail: action.payload\n      }}\n\n   //actualiza el estado con ordenando los pokemons por ataque\n    case ORDER_BY_ATTACK: {\n      let sortedArr = action.payload === \"descA\" ?\n      state.pokemon.sort((a, b) => b.attack - a.attack) :\n      state.pokemon.sort((a, b) => a.attack - b.attack);\n    return {\n      ...state,\n      pokemon: sortedArr\n    };\n   }\n   //mantiene el estado en caso de accion no reconocida\n    default:\n      return { ...state };\n  }\n};\n\nexport default rootReducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}